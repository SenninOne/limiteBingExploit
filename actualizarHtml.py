from bs4 import BeautifulSoup

# Definir el string que representa la conversaci칩n
nuevosMensajes = str(input("Ingrese los mensajes a a침adir al HTML, estos deberan de empezar con el primer mensaje del ususario(Gama): "))

# Dividir el string en mensajes de "Gama" y "Bingy"
mensajes = nuevosMensajes.split("\n")
gamaMensajes = []
bingyMensajes = []
for mensaje in mensajes:
    if mensaje.startswith("Gama:"):
        gamaMensajes.append(mensaje[6:])
    elif mensaje.startswith("Bingy:"):
        bingyMensajes.append(mensaje[7:])

#print("Lista con mensajes de Gama",gamaMensajes)
#print("Lista con mensajes de Bingy",bingyMensajes)

#Generar una lista con los mensages de ambos
mensajesIntercalados = []

for mensajeGama, mensajeBingy in zip(gamaMensajes, bingyMensajes):
    mensajesIntercalados.append(mensajeGama)
    mensajesIntercalados.append(mensajeBingy)

#print("Lista con mensajes intercalados",mensajesIntercalados)

# Cargar el archivo HTML
with open("conversacion.html", encoding="utf-8") as f:
    soup = BeautifulSoup(f, "html.parser")

# Modificar el contenido de la conversaci칩n
conversacion = soup.find("ol")

#A침adir los mensajes nuevos a la lista
for indice, elemento in enumerate(mensajesIntercalados):
    if indice % 2 == 0:
        #print(elemento)
        conversacion.append(soup.new_tag("li"))
        conversacion.find_all("li")[-1].append(soup.new_tag("strong"))
        conversacion.find_all("strong")[-1].append("Gama: ")
        conversacion.find_all("li")[-1].append(elemento)
    else:
        #print(elemento)
        conversacion.append(soup.new_tag("li"))
        conversacion.find_all("li")[-1].append(soup.new_tag("strong"))
        conversacion.find_all("strong")[-1].append("Bingy: ")
        conversacion.find_all("li")[-1].append(elemento)

# Guardar el archivo HTML actualizado
with open("conversacion.html", "w", encoding="utf-8") as f:
    f.write(str(soup))
